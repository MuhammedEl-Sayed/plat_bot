
# This file was generated by the Tkinter Designer by Parth Jadhav
# https://github.com/ParthJadhav/Tkinter-Designer


from pathlib import Path

# from tkinter import *
# Explicit imports to satisfy Flake8
from tkinter import StringVar, Tk, Canvas, Entry, Text, Button, PhotoImage

import threading
import plat_bot as pb


OUTPUT_PATH = Path(__file__).parent
ASSETS_PATH = OUTPUT_PATH / Path("./assets")


def relative_to_assets(path: str) -> Path:
    return ASSETS_PATH / Path(path)


def get_relic():
    threading.Thread(target=pb.get_best_relic(pb.get_items_id(
        pb.parseXML('E:\Git\plat_bot\items.xml')))).start()


window = Tk()

window.geometry("535x336")
window.configure(bg="#FFFFFF")


canvas = Canvas(
    window,
    bg="#FFFFFF",
    height=336,
    width=535,
    bd=0,
    highlightthickness=0,
    relief="ridge"
)


canvas.place(x=0, y=0)
# get an updated random image using random_relic_icon() that constantly updates
# the image on the screen

# load image from directory images/relics
img = PhotoImage(
    file="E:\\Git\plat_bot\images\\relics\\60ad4a1bf1904300d012c6f6.png")

canvas.create_image(
    0,
    0,
    anchor="nw",
    image=img
)


def updater():
    global img
    img = pb.random_relic_icon()
    newimg = PhotoImage(file=img)
    canvas.create_image(
        0,
        0,
        anchor="nw",
        image=newimg
    )
    window.after(1000, get_updater())


def get_updater():
    threading.Thread(updater()).start()


canvas.create_text(
    213.0,
    248.0,
    anchor="nw",
    text=pb.best_relic_text,
    fill="#000000",
    font=("Inter", 12 * -1)
)

#update the text on the screen to show the best drop

button_image_1 = PhotoImage(
    file=relative_to_assets("button_1.png"))
button_1 = Button(
    image=button_image_1,
    borderwidth=0,
    highlightthickness=0,
    command= get_relic(),
    relief="flat"
)
button_1.place(
    x=222.0,
    y=302.0,
    width=104.0,
    height=22.0
)
window.resizable(False, False)

window.mainloop()

